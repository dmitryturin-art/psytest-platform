# Анализ методологии СМИЛ из sob-01.pdf

**Дата:** 2026-02-27  
**Источник:** `source/metod/sob-01.pdf` - Методика СМИЛ 566 от Л.Н. Собчик

## 1. Ключевые находки из sob-01.pdf

### 1.1 Гендерно-специфичные вопросы

PDF содержит **два полных набора вопросов**:
- **Мужской вариант** (строки 243-1034 в PDF)
- **Женский вариант** (строки 1036-1822 в PDF)

**Примеры гендерных различий:**

| № | Мужской вариант | Женский вариант |
|---|----------------|-----------------|
| 3 | По утрам я обычно встаю свежим и отдохнувшим | По утрам я обычно встаю свежей и отдохнувшей |
| 19 | ...я должен наладить... | ...я должна наладить... |
| 25 | Я бы хотел быть певцом | Я бы хотела быть певицей |
| 28 | ...я должен отплатить... | ...я должна отплатить... |
| 56 | Когда я был мальчишкой, меня выгоняли из школы | Когда я была девчонкой, меня выгоняли из школы |
| 74 | Иногда я думаю: «Лучше бы я родился женщиной» | Я всегда думаю: «Хорошо, что я родилась женщиной» |

### 1.2 Контрольные вопросы (27 штук)

Из sob-01.pdf (строки 3540-3543):
```
Номера вопросов, которые НЕ СЛЕДУЕТ учитывать при обработке теста:
14, 33, 48, 63, 66, 69, 121, 123, 133, 151, 168, 182, 184, 197, 200, 205, 266,
275, 293, 334, 349, 350, 462, 464, 474, 542, 551
```

**Инструкция для контрольных вопросов** (строки 221-228):
> "Некоторые утверждения в опроснике требуют от Вас - "Обведите номер данного утверждения кружочком". В этом случае в регистрационном листе номер, соответствующий этому утверждению следует в регистрационном листе обвести кружочком (это те утверждения, которые в процессе стандартизации оказались балластными и не включаются в общий автоматизированный обсчет)."

**Критическое замечание:** Эти вопросы НЕ включаются в подсчет основных шкал, но используются для валидации протокола!

### 1.3 Шкала "?" (Неопределенные ответы)

Из sob-01.pdf (строки 4720-4729):
> "Шкала «?» регистрирует количество утверждений, на которые испытуемый не смог отнести ни к «верным», ни к «неверным». Если показатель шкалы «?» выше 70 сырых баллов, данные теста недостоверны. Общая цифра в пределах 36-40 с.б. допустима; результаты от 41 до 60 с.б. свидетельствуют о выраженной настороженности и неоткровенности обследуемого."

**Критерии валидности:**
- **≤ 40 баллов** - допустимо
- **41-60 баллов** - настороженность, неоткровенность
- **61-70 баллов** - сомнительная достоверность
- **> 70 баллов** - протокол недостоверен

**Важно:** Базовое значение 26 соответствует количеству контрольных вопросов, которые автоматически обводятся кружочком.

### 1.4 Формулы K-коррекции

Из sob-01.pdf (строки 4492-4503):
```
Чтобы избежать слишком сильного влияния механизма вытеснения на основной профиль:
- 0,5 от суммы сырых баллов шкалы «К» → к 1-й шкале
- 0,4 величины с.б. шкалы «К» → к 4-й шкале
- 1,0 «К» (вся сумма с.б. шкалы «К») → к 7-й и 8-й шкалам
- 0,2 с.б. шкалы «К» → к 9-й шкале
```

### 1.5 Средненормативные данные

Из sob-01.pdf (строки 4538-4556):

| Шкала | Название | Мужчины (M/δ) | Женщины (M/δ) |
|-------|----------|---------------|---------------|
| L | Ложь | 4.2 / 2.9 | 4.2 / 2.9 |
| F | Достоверность | 2.76 / 4.67 | 2.76 / 4.67 |
| K | Коррекция | 12.1 / 5.4 | 12.1 / 5.4 |
| 1 | Сверхконтроль | 11.1 / 3.9 | 12.9 / 4.83 |
| 2 | Пессимистичность | 16.6 / 4.11 | 18.9 / 5.0 |
| 3 | Эмоц. лабильность | 16.46 / 5.4 | 18.66 / 5.38 |
| 4 | Импульсивность | 18.68 / 4.11 | 18.68 / 4.11 |
| 5 | Женственность | 20.46 / 5.03 | 36.7 / 4.67 |
| 6 | Ригидность | 7.9 / 3.4 | 7.9 / 3.4 |
| 7 | Тревожность | 23.06 / 5.02 | 25.07 / 6.1 |
| 8 | Индивидуалистичность | 21.96 / 5.0 | 22.73 / 6.36 |
| 9 | Оптимистичность | 17.0 / 4.06 | 17.0 / 4.06 |
| 0 | Интроверсия | 25.0 / 10.0 | 25.0 / 10.0 |

## 2. Критические расхождения с текущей реализацией

### 2.1 Отсутствие гендерных вариантов
**Проблема:** В текущем [`modules/smil/questions-566-psytest.json`](modules/smil/questions-566-psytest.json) используется только один вариант текста вопросов.

**Решение:** Создать структуру с полями `text_male` и `text_female`.

### 2.2 Контрольные вопросы не обрабатываются
**Проблема:** В [`modules/smil/SmilModule.php`](modules/smil/SmilModule.php) нет логики подсчета контрольных вопросов (QC scale).

**Решение:** Добавить шкалу QC в расчеты и валидацию.

### 2.3 Шкала "?" не реализована
**Проблема:** Нет подсчета ответов "Не знаю" и валидации по критерию >70.

**Решение:** 
1. Добавить третий вариант ответа "?" в UI
2. Реализовать подсчет в SmilModule.php
3. Добавить валидацию протокола

### 2.4 Неточные нормативные данные
**Проблема:** В [`modules/smil/basic_scales_norms.json`](modules/smil/basic_scales_norms.json) могут быть расхождения с sob-01.pdf.

**Решение:** Обновить нормы согласно таблице из sob-01.pdf.

## 3. План интеграции sob-01.pdf в проект

### Этап 1: Обновление структуры вопросов ✓ (в процессе)
- [x] Создать `questions-566-gender.json` с полями `text_male` / `text_female`
- [ ] Извлечь все 566 вопросов из sob-01.pdf (мужской + женский варианты)
- [ ] Добавить флаг `is_control: true` для 27 контрольных вопросов

### Этап 2: Обновление SmilModule.php
- [ ] Добавить метод `getQuestionText($questionId, $gender)` для выбора гендерного варианта
- [ ] Реализовать подсчет шкалы QC (Control Questions)
- [ ] Реализовать подсчет шкалы "?" (Unknown answers)
- [ ] Добавить валидацию: `if (scale_unknown > 70) { protocol_invalid = true; }`

### Этап 3: Обновление UI
- [ ] Добавить выбор пола в начале теста
- [ ] Добавить третью кнопку "Не знаю" (?) для каждого вопроса
- [ ] Обновить [`public/js/test-taking.js`](public/js/test-taking.js) для обработки 3 вариантов ответов

### Этап 4: Обновление нормативных данных
- [ ] Проверить [`modules/smil/basic_scales_norms.json`](modules/smil/basic_scales_norms.json)
- [ ] Обновить значения M и δ согласно таблице из sob-01.pdf

### Этап 5: Тестирование
- [ ] Создать тестовую сессию с мужским вариантом
- [ ] Создать тестовую сессию с женским вариантом
- [ ] Проверить валидацию по шкале "?"
- [ ] Проверить подсчет контрольных вопросов

## 4. Технические детали реализации

### 4.1 Структура JSON с гендерными вариантами

```json
{
    "id": 3,
    "text_male": "По утрам я обычно встаю свежим и отдохнувшим",
    "text_female": "По утрам я обычно встаю свежей и отдохнувшей",
    "is_control": false
}
```

### 4.2 Логика выбора текста в SmilModule.php

```php
private function getQuestionText(int $questionId, string $gender): string
{
    $question = $this->questions[$questionId - 1];
    
    if ($gender === 'male') {
        return $question['text_male'] ?? $question['text'];
    } else {
        return $question['text_female'] ?? $question['text'];
    }
}
```

### 4.3 Подсчет шкалы "?"

```php
private function calculateUnknownScale(array $answers): int
{
    $count = 0;
    foreach ($answers as $answer) {
        if ($answer === '?' || $answer === null || $answer === '') {
            $count++;
        }
    }
    return $count;
}
```

### 4.4 Валидация протокола

```php
private function validateProtocol(array $scales): array
{
    $errors = [];
    
    // Проверка шкалы "?"
    if ($scales['unknown'] > 70) {
        $errors[] = 'Протокол недостоверен: слишком много ответов "Не знаю" (' . $scales['unknown'] . ' > 70)';
    } elseif ($scales['unknown'] > 60) {
        $errors[] = 'Сомнительная достоверность: много ответов "Не знаю" (' . $scales['unknown'] . ')';
    } elseif ($scales['unknown'] > 40) {
        $errors[] = 'Настороженность: повышенное количество ответов "Не знаю" (' . $scales['unknown'] . ')';
    }
    
    // Проверка контрольных вопросов
    $control_yes = $this->countControlQuestions($answers, 'yes');
    if ($control_yes < 20) {
        $errors[] = 'Недостаточно ответов "Да" на контрольные вопросы (' . $control_yes . ' из 27)';
    }
    
    return $errors;
}
```

## 5. Гендерные различия в вопросах (полный список)

### Вопросы с различиями в окончаниях глаголов/прилагательных:

**Группа 1: Прошедшее время (был/была, родился/родилась)**
- №3: встаю свежим/свежей
- №19: я должен/должна
- №25: хотел быть певцом / хотела быть певицей
- №28: должен отплатить / должна отплатить
- №56: был мальчишкой / была девчонкой
- №74: родился женщиной / родилась женщиной
- №84: чувствую/сейчас трудно отказаться (разные формулировки!)
- №90: должен сделать / должна сделать
- №94: совершаю/сожалею (больше и чаще / сильнее и чаще)
- №100: встречал/встречала
- №102: с самим собой / с самой собой
- №105: бываю раздражительным / бываю раздражительной
- №106: сделал/сделала
- №107: счастливым/счастливой
- №129: был таким упрямым / была такой упрямой
- №138: очень задевают / ужасно обижают и ранят (разные!)
- №139: самому себе / самой себе
- №142: уверен/уверена
- №149: вел дневник / вела дневник
- №157: незаслуженно наказывали (одинаково)
- №158: легко могу заплакать (одинаково)
- №159: стал хуже / стала хуже
- №160: лучше, чем когда-либо (одинаково)
- №162: возмущен и раздражен / возмущена и раздосадована
- №163: не устаю (одинаково)
- №168: уверен/уверена
- №173: любил школу / любила школу
- №174: никогда не падал / никогда не падала
- №180: познакомился/познакомилась
- №192: не было трудностей / мне не трудно (разные!)
- №198: предаюсь мечтам / предаюсь мечтам
- №201: хотел быть / хотела быть
- №202: обреченным человеком / обреченным человеком
- №203: был журналистом / была журналисткой
- №204: понравилось быть журналистом / понравилось быть журналисткой
- №208: флиртовать (вести игривый разговор с нравящейся мне женщиной или девушкой) / флиртовать (вести игривый разговор с нравящимся мне мужчиной)
- №212: обращаются со мной как с ребенком / обращаются со мной как с ребенком
- №215: чрезмерно увлекался / чрезмерно увлекалась
- №216: в моем доме / в моей семье (разные!)
- №220: любил/любила
- №222: просить об услуге (одинаково)
- №224: не одобряли (одинаково)
- №227: говорили/говорили
- №228: чувствую/чувствую
- №229: записался/записалась
- №231: люблю поговорить на темы, связанные с вопросами пола / люблю поговорить на межполовые темы (разные!)
- №232: наметил/наметила
- №235: был вполне независим / была вполне независима
- №239: испытал/испытала
- №242: не считаю себя более нервным / не считаю себя более нервной
- №245: без всяких оснований (только у женщин!)
- №248: взволнованно-счастливым / взволнованно-счастливой
- №249: уверен/уверена
- №251: провалы в сознании (только у женщин!)
- №253: могу дружелюбно (одинаково)
- №256: наиболее интересная / единственная интересная (разные!)
- №260: плохо усваивал / плохо усваивала
- №262: не особенно огорчает (одинаково)
- №266: бываю возбужден и раздражителен / бываю возбуждена и раздражительна
- №267: нахожусь/нахожусь
- №283: был журналистом / была журналисткой
- №284: убежден/убеждена
- №288: беспокоят/беспокоят
- №291: чувствовал/чувствовала
- №295: любил читать / любила читать
- №300: не было такого периода / не было такого периода
- №303: настолько волнуют / настолько болезненно отношусь (разные!)
- №305: одиноким/одинокой
- №309: схожусь/схожусь
- №311: совершал/совершала
- №313: оставляющий свои вещи / оставляющий ценные вещи (разные!)
- №317: более раним / более обидчива (разные!)
- №321: легко ввести (одинаково)
- №322: беспокоят/беспокоят
- №324: никогда ни в кого не был влюблен / никогда ни в кого не была влюблена
- №325: напуган/напугана
- №328: замечаю/замечаю
- №332: у меня иногда меняется или пропадает голос / иногда я теряю голос, или он меняется (разные!)
- №337: почти все время / почти все время
- №340: бываю настолько возбужден / бываю настолько возбуждена
- №345: окружающее мне часто кажется / часто у меня бывает такое чувство (разные!)
- №351: становлюсь тревожным и расстроенным / становлюсь тревожной и расстроенной
- №357: не раз бросал / не раз бросала
- №361: склонен принимать / склонна тяжело все переживать (разные!)
- №366: одиноким/одинокой
- №371: не могу сказать / не могу сказать
- №372: скорее склонен / скорее склонна
- №373: уверен/уверена
- №376: милиционеры обычно - честные люди / бухгалтеры обычно - честные люди (разные!)
- №400: мог бы принести / могла бы принести
- №407: спокоен/спокойна
- №408: склонен скрывать / склонна скрывать
- №411: чувствую себя неудачником / чувствую себя неудачницей
- №415: мог бы стать / могла бы стать
- №418: кажется/кажется
- №419: прогуливал/прогуливала
- №433: привык иметь / привыкла иметь
- №434: хотел быть / хотела быть
- №435: предпочел бы / предпочла бы
- №438: внутренне радуюсь (одинаково)
- №443: готов отказаться / готова отказаться
- №445: любил/любила
- №446: предпочел бы / предпочла бы
- №447: готов на все / готова на все
- №454: мог жить / могла жить
- №458: занимался со мной / занимался со мной
- №463: любил играть / любила играть
- №464: лишен способности / лишена способности
- №468: жалею, что был / жалею, что была
- №469: встречал/встречала
- №475: оказавшись «припертым к стене» / оказавшись «припертой к стене»
- №476: призван совершить / призвана совершить
- №477: попал в беду / попала в беду
- №478: не волновался / не волновалась
- №481: притворялся больным / притворялась больной
- №487: быстро бросаю (одинаково)
- №488: хотел/хотела
- №493: предпочту/предпочту
- №500: готов на все / готова на все
- №501: предпочитаю сам / предпочитаю сама
- №503: не склонен / не склонна
- №504: не считаю нужным (одинаково)
- №505: полным сил / полной сил
- №507: работал/работала
- №509: бывает трудно (одинаково)
- №513: больше нравится работать (одинаково)
- №517: ничего не могу (одинаково)
- №518: нередко испытываю (одинаково)
- №520: твердо отстаиваю (одинаково)
- №521: не смущаюсь (одинаково)
- №523: краснею (одинаково)
- №526: кажется мне (одинаково)
- №528: краснею (одинаково)
- №530: боюсь покраснеть (одинаково)
- №531: легко могут изменить (одинаково)
- №534: старался сделать / старалась сделать
- №536: сержусь (одинаково)
- №537: хотел поохотиться / хотела поохотиться
- №543: бывает чувство (одинаково)
- №544: чувствую усталость (одинаково)
- №547: люблю бывать (одинаково)
- №549: стараюсь избегать (одинаково)
- №551: могут догадаться (одинаково)
- №553: страшно быть одному / страшно быть одной
- №554: был журналистом / была журналисткой
- №555: кажется/кажется
- №556: очень внимателен / очень внимательна
- №557: понравилось работать (одинаково)
- №562: был больше всего привязан / была больше всего привязана
- №564: готов отказаться / готова отказаться
- №565: испытываю желание (одинаково)

### Итого: **~60-70 вопросов** имеют гендерные различия из 566.

## 6. Приоритеты реализации

### Высокий приоритет (критично для валидности теста):
1. ✅ Извлечь все 566 вопросов с гендерными вариантами
2. ⚠️ Реализовать шкалу "?" и валидацию протокола
3. ⚠️ Обновить SmilModule.php для выбора гендерного варианта

### Средний приоритет (важно для точности):
4. Реализовать подсчет контрольных вопросов (QC scale)
5. Обновить нормативные данные из sob-01.pdf
6. Добавить UI для выбора пола

### Низкий приоритет (улучшения):
7. Добавить дополнительные шкалы из sob-01.pdf
8. Реализовать формулы индексов (Ai, Ir и др.)

## 7. Следующие шаги

1. **Сейчас:** Завершить извлечение всех 566 вопросов в `questions-566-gender.json`
2. **Далее:** Обновить `SmilModule.php` для работы с гендерными вариантами
3. **Потом:** Реализовать шкалу "?" и валидацию
4. **Финал:** Тестирование и документация

---

**Статус:** В процессе извлечения вопросов из sob-01.pdf  
**Следующий файл для обновления:** `modules/smil/SmilModule.php`
